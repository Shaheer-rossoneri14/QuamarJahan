<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Home</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
  <style>
    body {
      background-color: #eceff1;
      /* Dark teal color */
    }

    .pdf-container {
      margin-top: 20px;
      border: 5px solid #f0f0f0;
      border-radius: 5px;
      padding: 10px;
    }

    canvas {
      display: block;
      margin-bottom: 20px;
      width: 100%;
      height: auto;
    }
  </style>
</head>

<body>
  <!-- NAVIGATION BAR  -->
  <nav class="teal darken-4" role="navigation">
    <div class="nav-wrapper container">
      <!-- <a id="logo-container" href="http://127.0.0.1:5500/index.html" class="brand-logo" >Quamar Jahan</a> -->
      <ul class="right hide-on-med-and-down">
        <li><a href="/aboutAuthor.html">About the Author</a></li>
        <li><a href="/index.html">Stories</a></li>
        <li><a href="#Articles">Articles</a></li>
        <li><a href="#Critical_Articles">Critical Articles</a></li>
      </ul>

      <!-- MOBILE NAV BAR  -->
      <ul id="nav-mobile" class="sidenav">
        <li><a href="/aboutAuthor.html">About the Writer</a></li>
        <li><a href="/index.html">Stories</a></li>
        <li><a href="#Articles">Articles</a></li>
        <li><a href="#Critical_Articles">Critical Articles</a></li>
      </ul>
      <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
    </div>
  </nav>
  <main>
    <section>
      <div class="container">
        <div id="pdf-container" class="row justify-content-center">
          <h4 class="text-left mt-5">Pinjre ka Qaidi</h4>
          <p class="text-left">A collection of short stories published in 2015</p>
          <div class="col-md-8" id="pdf-renderer">
            <!-- PDF pages will be rendered here -->
          </div>
        </div>
      </div>
    </section>
  </main>
  <!-- FOOTER  -->
  <footer class="page-footer teal darken-4">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">About</h5>
          <p class="grey-text text-lighten-4">About the project</p>
        </div>
        <div class="col l3 s12">
          <h5 class="white-text">Connect with me</h5>
          <ul>
            <li><img src="images/linkedin-circled.png" height="20px" width="20px"><a class="white-text"
                href="https://www.linkedin.com/in/shaheer14hasan/">LinkedIn</a></li>
            <li><img src="images/github.png" height="20px" width="20px"><a class="white-text"
                href="https://github.com/Shaheer-rossoneri14">GitHub</a></li>
            <li><img src="images/circled-envelope.png" height="20px" width="20px"><a class="white-text"
                href="mailto:hshaheer99@gmail.com">E-Mail</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="footer-copyright">
      <div class="container">
        Made by <a class="black-text text-dark-3"><strong>Shaheer Hasan</strong></a>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.2.146/pdf.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const url = 'pdf/Pinjre_ka_Qaidi.pdf'; // Ensure this path is correct
      const container = document.getElementById('pdf-renderer');

      // Load the PDF
      pdfjsLib.getDocument(url).promise.then(function (pdf) {
        console.log('PDF loaded');

        // Loop through all the pages
        for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
          pdf.getPage(pageNum).then(function (page) {
            console.log('Page loaded');

            const scale = 1.5;
            const viewport = page.getViewport({ scale: scale });

            // Create canvas and set dimensions
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.height = viewport.height;
            canvas.width = viewport.width;
            container.appendChild(canvas);

            // Render PDF page into canvas context
            const renderContext = {
              canvasContext: context,
              viewport: viewport
            };
            page.render(renderContext).promise.then(function () {
              console.log('Page rendered');
            });
          });
        }
      }, function (reason) {
        console.error('Error loading PDF: ', reason);
      });
    });
  </script>
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/materialize.js"></script>
  <script src="js/init.js"></script>
</body>

</html>